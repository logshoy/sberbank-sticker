(this["webpackJsonpsberbank-sticker"]=this["webpackJsonpsberbank-sticker"]||[]).push([[0],{31:function(e,t,a){e.exports=a(42)},36:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(15),c=a.n(r),l=(a(36),a(8));var i=function(e){var t=["todoCheck"];return e.completed&&t.push("completed"),o.a.createElement("div",{className:t.join(" ")},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:e.completed,disabled:!0}),o.a.createElement("div",{className:"todoCheck__text"})),o.a.createElement("span",null,e.name))};function d(e){return o.a.createElement("div",{className:"svg"},o.a.createElement("svg",{id:"Icons",height:e.size,viewBox:"0 0 74 74",width:e.size,xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fill:"red",d:"m56.082 72h-38.164a3.079 3.079 0 0 1 -3.05-2.805l-4.36-52.061a1 1 0 0 1 1-1.083h50.992a1 1 0 0 1 1 1.083l-4.36 52.061a3.079 3.079 0 0 1 -3.058 2.805zm-43.49-53.949 4.27 50.977a1.066 1.066 0 0 0 1.056.972h38.164a1.066 1.066 0 0 0 1.057-.972l4.27-50.977z"}),o.a.createElement("path",{fill:"red",d:"m66.172 18.06h-58.344a2.17 2.17 0 0 1 -2.167-2.167v-5.041a2.169 2.169 0 0 1 2.167-2.167h58.344a2.169 2.169 0 0 1 2.167 2.167v5.042a2.17 2.17 0 0 1 -2.167 2.166zm-58.344-7.375a.167.167 0 0 0 -.167.167v5.042a.167.167 0 0 0 .167.167h58.344a.167.167 0 0 0 .167-.167v-5.042a.167.167 0 0 0 -.167-.167z"}),o.a.createElement("path",{fill:"red",d:"m45.812 10.685h-17.624a1 1 0 0 1 -1-1v-5.067a2.621 2.621 0 0 1 2.618-2.618h14.388a2.621 2.621 0 0 1 2.618 2.618v5.067a1 1 0 0 1 -1 1zm-16.624-2h15.624v-4.067a.618.618 0 0 0 -.618-.618h-14.388a.618.618 0 0 0 -.618.618z"}),o.a.createElement("path",{fill:"red",d:"m47.462 56.03c-.029 0-.059 0-.088 0a1 1 0 0 1 -.909-1.083l2.289-26.131a1 1 0 1 1 1.992.175l-2.288 26.127a1 1 0 0 1 -.996.912z"}),o.a.createElement("path",{fill:"red",d:"m37 56.03a1 1 0 0 1 -1-1v-26.13a1 1 0 1 1 2 0v26.13a1 1 0 0 1 -1 1z"}),o.a.createElement("path",{fill:"red",d:"m26.538 56.03a1 1 0 0 1 -1-.913l-2.284-26.13a1 1 0 1 1 1.992-.175l2.289 26.131a1 1 0 0 1 -.909 1.083c-.026.003-.059.004-.088.004z"})))}var s=a(3);function u(e){return{type:"LOCALSTORAGE_GET",localTodos:e}}function m(e,t){return function(a){a(function(e,t){return{type:"ADD_TODO_ITEM",todosTitle:e,todosList:t}}(e,t)),a(f())}}function h(e,t){return function(a){a({type:"CHECK_ITEM",id:e,index:t}),a(f())}}function E(e){return function(t){t(function(e){return{type:"REMOVE_TODO_ITEM",id:e}}(e)),t(f())}}function p(e,t,a){return function(n){n(function(e,t,a){return{type:"CHANGE_BY_ID",id:e,title:t,todosList:a}}(e,t,a)),n(f())}}function f(){return{type:"LOCALSTORAGE_SET"}}var v=a(10);function b(e,t){return{type:"SHOW_MODAL",modalType:e,modalProps:t}}var O=Object(s.b)((function(e){return{todosArray:e.todos.todosArray}}),(function(e){return{removeTodoItem:function(t){return e(E(t))},checkItem:function(t,a){return e(h(t,a))},showModal:function(t,a){e(b(t,a))}}}))((function(e){return o.a.createElement("li",{className:"todoItem"},o.a.createElement("div",{className:"todoItem__todoHeader"},o.a.createElement("div",{className:"todoItem__title"},e.title),o.a.createElement("div",{className:"todoItem__buttons"},o.a.createElement(v.b,{className:"todoItem__change",to:"/todo/"+e.id}),o.a.createElement("div",{onClick:function(){e.showModal("DELETE_POST",{id:e.id,deleteType:"main"})}},o.a.createElement(d,{size:"20"})))),e.todosList.map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement(i,{completed:e.completed,name:e.name}))})))}));function y(e){var t=e.todos;return o.a.createElement("ul",null,t.map((function(e){return o.a.createElement(O,Object.assign({key:e.id},e))})))}var g=Object(s.b)((function(e){return{todosArray:e.todos.todosArray,todoTitle:e.todos.todoTitle}}),(function(e){return{localstorageGet:function(t){return e(u(t))},showModal:function(t,a){e(b(t,a))}}}))((function(e){var t=Object(l.a)(e.todosArray);return o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"\u0417\u0430\u043c\u0435\u0442\u043a\u0438 \u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0421\u0431\u0435\u0440\u0431\u0430\u043d\u043a\u0430"),o.a.createElement("button",{className:"button",onClick:function(){return e.showModal("SHOW_CREATE_TODO")}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443"),o.a.createElement("h2",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447:"),o.a.createElement(y,{todos:t.reverse()}))})),T=a(26),C=a(27),k=a(30),_=a(29),I=function(e){Object(k.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).addTodoItem=function(){n.setState({arr:[].concat(Object(l.a)(n.state.arr),[{name:"",completed:!1,change:!0}])})},n.handleChange=function(e,t){var a=n.state.arr;a[t].name=e.target.value,n.setState({arr:a})},n.handleRemove=function(e){n.state.arr.splice(e,1),n.setState({arr:Object(l.a)(n.state.arr)})},n.checkItem=function(e,t){var a=n.state.arr;a[t].completed=!e,n.setState({arr:a})},n.onChangeTitle=function(){n.setState({titleChange:!n.state.titleChange})},n.onChangeTitleKeyPress=function(e){"Enter"===e.key&&n.onChangeTitle()},n.onChange=function(e,t){var a=n.state.arr;a[t].change=!e,n.setState({arr:a})},n.onChangePressEnter=function(e,t,a){"Enter"===e.key&&n.onChange(t,a)},n.state={todoTitle:"",arr:[],titleChange:!1},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.title="\u0417\u0430\u043c\u0435\u0442\u043a\u0430 ".concat(this.props.match.params.id),setTimeout((function(){e.props.todoById(e.props.match.params.id),e.setState({todoTitle:e.props.todoId.title,arr:e.props.todoId.todosList}),e.state.arr.forEach((function(e){return e.change=!1})),e.setState({arr:e.state.arr})}))}},{key:"handleChangeTitle",value:function(e){this.setState({todoTitle:e.target.value})}},{key:"handleSave",value:function(){this.props.changeById(this.props.todoId.id,this.state.todoTitle,this.state.arr),this.props.history.push("/")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"main-title"},o.a.createElement(v.b,{to:"/"},"\u2190"),o.a.createElement("h1",null,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443"),o.a.createElement("div",null)),o.a.createElement("div",{className:"todoTitle"},this.state.titleChange?o.a.createElement("input",{type:"text",value:this.state.todoTitle,onKeyPress:function(t){return e.onChangeTitleKeyPress(t)},onChange:function(t){return e.handleChangeTitle(t)}}):o.a.createElement("h2",{onClick:function(){return e.onChangeTitle()}},this.state.todoTitle),o.a.createElement("div",{className:"todoItem__change",onClick:function(){return e.onChangeTitle()}})),this.state.arr.map((function(t,a){var n=["todoCheck"];return t.completed&&n.push("completed"),o.a.createElement("div",{className:n.join(" "),key:a},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:t.completed,onChange:function(){return e.checkItem(t.completed,a)}}),o.a.createElement("div",{className:"todoCheck__text"})),t.change?o.a.createElement("input",{type:"text",placeholder:"Task",onChange:function(t){return e.handleChange(t,a)},onKeyPress:function(n){return e.onChangePressEnter(n,t.change,a)},value:t.name}):o.a.createElement("span",{onClick:function(){return e.onChange(t.change,a)}},t.name),o.a.createElement("div",{className:"todoItem__change",onClick:function(){return e.onChange(t.change,a)}}),o.a.createElement("button",{className:"button--delete",onClick:function(){return e.handleRemove(a)}},"\xd7"))})),o.a.createElement("div",{className:"button-add"},o.a.createElement("button",{className:"btn-circle",onClick:this.addTodoItem},"+")),o.a.createElement("div",{className:"buttons buttons--editPost"},o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{className:"button",onClick:function(){e.props.showModal("CHANGE_TODO",{id:e.props.todoId.id,title:e.state.todoTitle,todosList:e.state.arr})},disabled:!this.state.todoTitle},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),o.a.createElement(v.b,{className:"button",to:"/"},"\u041e\u0442\u043c\u0435\u043d\u0430")),o.a.createElement("div",{onClick:function(){e.props.showModal("DELETE_POST",{id:e.props.todoId.id,deleteType:"page"})}},o.a.createElement(d,{size:"50"}))))}}]),a}(o.a.Component);var j=Object(s.b)((function(e){return{todoId:e.todos.todo}}),(function(e){return{todoById:function(t){return e({type:"TODO_BY_ID",byId:t})},changeById:function(t,a,n){e(p(t,a,n))},showModal:function(t,a){e(b(t,a))}}}))(I),N=a(2);var D=Object(s.b)(null,(function(e){return{removeTodoItem:function(t){return e(E(t))},hideModal:function(){return e({type:"HIDE_MODAL"})}}}))((function(e){var t=Object(N.e)();return o.a.createElement("div",null,o.a.createElement("h2",null,"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u043c\u0435\u0442\u043a\u0443?"),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{className:"button",onClick:function(){e.removeTodoItem(e.modalProps.id),e.hideModal(),"page"===e.modalProps.deleteType&&t.push("/")}},"\u0414\u0430"),o.a.createElement("button",{className:"button",onClick:e.hideModal},"\u041d\u0435\u0442")))})),A=a(22);var w=Object(s.b)((function(e){return{todoTitle:e.todos.todoTitle}}),(function(e){return{addTodoItem:function(t,a){e(m(t,a))},hideModal:function(){return e({type:"HIDE_MODAL"})}}}))((function(e){var t=Object(n.useState)(""),a=Object(A.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)([{name:"",completed:!1}]),d=Object(A.a)(i,2),s=d[0],u=d[1],m=function(){e.addTodoItem(r,s),e.hideModal()},h=function(e,t){s[t].name=e.target.value,u(Object(l.a)(s))},E=function(e,t){s[t].completed=!e,u(Object(l.a)(s))},p=function(e){e>-1&&(s.splice(e,1),u(Object(l.a)(s)))};return o.a.createElement("div",{className:"create-todo"},o.a.createElement("h1",null,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443"),o.a.createElement("div",null,o.a.createElement("input",{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438",value:r,onChange:function(e){return c(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&""!==r&&m()}})),o.a.createElement("ul",null,s.map((function(e,t){var a=["todoCheck"];return e.completed&&a.push("completed"),o.a.createElement("div",{className:a.join(" "),key:t},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:e.completed,onChange:function(){return E(e.completed,t)}}),o.a.createElement("div",{className:"todoCheck__text"})),o.a.createElement("input",{type:"text",placeholder:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435",onChange:function(e){return h(e,t)},value:e.name}),o.a.createElement("button",{type:"button",className:"button--delete",onClick:function(){return p(t)}},"\xd7"),o.a.createElement("div",null))}))),o.a.createElement("div",{className:"button-add"},o.a.createElement("button",{className:"btn-circle",onClick:function(){u([].concat(Object(l.a)(s),[{name:"",completed:!1}]))}},"+")),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{className:"button",onClick:m,disabled:!r},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),o.a.createElement("button",{className:"button",onClick:e.hideModal},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))}));var L=Object(s.b)(null,(function(e){return{changeById:function(t,a,n){e(p(t,a,n))},hideModal:function(){return e({type:"HIDE_MODAL"})}}}))((function(e){var t=Object(N.e)();return o.a.createElement("div",null,o.a.createElement("h2",null,"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u043c\u0435\u0442\u043a\u0443?"),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{className:"button",onClick:function(){e.changeById(e.modalProps.id,e.modalProps.title,e.modalProps.todosList),e.hideModal(),t.push("/")}},"\u0414\u0430"),o.a.createElement("button",{className:"button",onClick:e.hideModal},"\u041d\u0435\u0442")))}));var M=Object(s.b)((function(e){return{modalData:e.modal}}),(function(e){return{hideModal:function(){return e({type:"HIDE_MODAL"})}}}))((function(e){var t=Object(n.useRef)(null),a=Object(n.useCallback)((function(t){var n={27:function(){t.preventDefault(),e.hideModal(),window.removeEventListener("keyup",a,!1)}};n[t.keyCode]&&n[t.keyCode]()}),[e]),r=Object(n.useCallback)((function(a){t&&!t.current.contains(a.target)&&"true"===a.target.dataset.backgorund?(console.log("\u044d\u0442\u043e \u044f \u0440\u0443\u0438\u043d\u044e",a.target.dataset),document.removeEventListener("click",r,!1),e.hideModal()):console.log("\u0430 \u044f \u043d\u0435\u0442 \u0440\u0443\u0438\u043d\u044e",t)}),[e]);Object(n.useEffect)((function(){return window.addEventListener("keyup",a,!1),document.addEventListener("click",r,!1),function(){window.removeEventListener("keyup",a,!1),document.removeEventListener("click",r,!1)}}),[a,r]);return o.a.createElement("div",{className:"modalBackground","data-backgorund":"true"},o.a.createElement("div",{className:"modal-content",ref:t},o.a.createElement("button",{type:"button",className:"closeButton",onClick:e.hideModal}),"DELETE_POST"===e.modalData.modalType?o.a.createElement(D,{modalProps:e.modalData.modalProps}):"SHOW_CREATE_TODO"===e.modalData.modalType?o.a.createElement(w,null):"CHANGE_TODO"===e.modalData.modalType?o.a.createElement(L,{modalProps:e.modalData.modalProps}):void 0))}));var S=Object(s.b)((function(e){return{todosArray:e.todos.todosArray,modalData:e.modal}}),(function(e){return{localstorageGet:function(t){return e(u(t))}}}))((function(e){return Object(n.useEffect)((function(){if(null!==window.localStorage.getItem("todoItem")){var t=Array.from(JSON.parse(window.localStorage.getItem("todoItem")));e.localstorageGet(t)}}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{path:"/",exact:!0,component:g}),o.a.createElement(N.a,{path:"/todo/:id",exact:!0,component:j}),e.modalData.modalType?o.a.createElement(M,null):null)})),P=a(11),x=a(7),H={todosArray:[],todo:{}};var B={modalType:null,modalProps:{}};var z=Object(P.c)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOCALSTORAGE_GET":return Object(x.a)(Object(x.a)({},e),{},{todosArray:t.localTodos});case"TODO_BY_ID":return Object(x.a)(Object(x.a)({},e),{},{todo:e.todosArray.filter((function(e){return e.id===Number(t.byId)}))[0]});case"ADD_TODO_ITEM":return Object(x.a)(Object(x.a)({},e),{},{todosArray:[].concat(Object(l.a)(e.todosArray),[{id:Date.now(),title:t.todosTitle,todosList:t.todosList}])});case"CHECK_ITEM":return Object(x.a)(Object(x.a)({},e),{},{todosArray:e.todosArray.map((function(e){return e.id===t.id&&e.todosList.map((function(e,a){return a===t.index&&(e.completed=!e.completed),e})),e}))});case"REMOVE_TODO_ITEM":return Object(x.a)(Object(x.a)({},e),{},{todosArray:e.todosArray.filter((function(e){return e.id!==t.id}))});case"CHANGE_BY_ID":return console.log(t.todosList),Object(x.a)(Object(x.a)({},e),{},{todosArray:e.todosArray.map((function(e){return e.id===Number(t.id)&&(e.title=t.title,e.todosList=t.todosList),e}))});case"LOCALSTORAGE_SET":return window.localStorage.setItem("todoItem",JSON.stringify(e.todosArray)),e;default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODAL":return{modalType:t.modalType,modalProps:t.modalProps};case"HIDE_MODAL":return B;default:return e}}}),G=a(28);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=Object(P.d)(z,Object(P.a)(G.a)),K=o.a.createElement(s.a,{store:R},o.a.createElement(v.a,{basename:"/"},o.a.createElement(S,null)));c.a.render(K,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.5a9306fd.chunk.js.map