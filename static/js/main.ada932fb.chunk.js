(this["webpackJsonpsberbank-sticker"]=this["webpackJsonpsberbank-sticker"]||[]).push([[0],{31:function(e,t,a){e.exports=a(42)},36:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(15),c=a.n(r),l=(a(36),a(8)),d=a(3);function i(e){return{type:"LOCALSTORAGE_GET",localTodos:e}}function u(e,t){return function(a){a(function(e,t){return{type:"ADD_TODO_ITEM",todosTitle:e,todosList:t}}(e,t)),a(p())}}function s(e,t){return function(a){a({type:"CHECK_ITEM",id:e,index:t}),a(p())}}function m(e){return function(t){t(function(e){return{type:"REMOVE_TODO_ITEM",id:e}}(e)),t(p())}}function E(e,t,a){return function(n){n(function(e,t,a){return{type:"CHANGE_BY_ID",id:e,title:t,todosList:a}}(e,t,a)),n(p())}}function p(){return{type:"LOCALSTORAGE_SET"}}var f=Object(d.b)(null,(function(e){return{checkItem:function(t,a){return e(s(t,a))}}}))((function(e){var t=["todoCheck"];return e.completed&&t.push("completed"),o.a.createElement("div",{className:t.join(" ")},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:e.completed,onChange:function(){return e.checkItem(e.id,e.index)}}),o.a.createElement("div",null)),o.a.createElement("span",null,e.name))}));function h(e){return o.a.createElement("div",{className:"svg"},o.a.createElement("svg",{id:"Icons",height:e.size,viewBox:"0 0 74 74",width:e.size,xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fill:"red",d:"m56.082 72h-38.164a3.079 3.079 0 0 1 -3.05-2.805l-4.36-52.061a1 1 0 0 1 1-1.083h50.992a1 1 0 0 1 1 1.083l-4.36 52.061a3.079 3.079 0 0 1 -3.058 2.805zm-43.49-53.949 4.27 50.977a1.066 1.066 0 0 0 1.056.972h38.164a1.066 1.066 0 0 0 1.057-.972l4.27-50.977z"}),o.a.createElement("path",{fill:"red",d:"m66.172 18.06h-58.344a2.17 2.17 0 0 1 -2.167-2.167v-5.041a2.169 2.169 0 0 1 2.167-2.167h58.344a2.169 2.169 0 0 1 2.167 2.167v5.042a2.17 2.17 0 0 1 -2.167 2.166zm-58.344-7.375a.167.167 0 0 0 -.167.167v5.042a.167.167 0 0 0 .167.167h58.344a.167.167 0 0 0 .167-.167v-5.042a.167.167 0 0 0 -.167-.167z"}),o.a.createElement("path",{fill:"red",d:"m45.812 10.685h-17.624a1 1 0 0 1 -1-1v-5.067a2.621 2.621 0 0 1 2.618-2.618h14.388a2.621 2.621 0 0 1 2.618 2.618v5.067a1 1 0 0 1 -1 1zm-16.624-2h15.624v-4.067a.618.618 0 0 0 -.618-.618h-14.388a.618.618 0 0 0 -.618.618z"}),o.a.createElement("path",{fill:"red",d:"m47.462 56.03c-.029 0-.059 0-.088 0a1 1 0 0 1 -.909-1.083l2.289-26.131a1 1 0 1 1 1.992.175l-2.288 26.127a1 1 0 0 1 -.996.912z"}),o.a.createElement("path",{fill:"red",d:"m37 56.03a1 1 0 0 1 -1-1v-26.13a1 1 0 1 1 2 0v26.13a1 1 0 0 1 -1 1z"}),o.a.createElement("path",{fill:"red",d:"m26.538 56.03a1 1 0 0 1 -1-.913l-2.284-26.13a1 1 0 1 1 1.992-.175l2.289 26.131a1 1 0 0 1 -.909 1.083c-.026.003-.059.004-.088.004z"})))}var b=a(10);function v(e,t){return{type:"SHOW_MODAL",modalType:e,modalProps:t}}var O=Object(d.b)((function(e){return{todosArray:e.todos.todosArray}}),(function(e){return{removeTodoItem:function(t){return e(m(t))},checkItem:function(t,a){return e(s(t,a))},showModal:function(t,a){e(v(t,a))}}}))((function(e){return o.a.createElement("li",{className:"todoItem"},o.a.createElement("div",{className:"todoItem__todoHeader"},o.a.createElement("div",{className:"todoItem__title"},e.title),o.a.createElement("div",{className:"todoItem__buttons"},o.a.createElement(b.b,{className:"todoItem__change",to:"/todo/"+e.id}),o.a.createElement("div",{onClick:function(){e.showModal("DELETE_POST",{id:e.id,deleteType:"main"})}},o.a.createElement(h,{size:"20"})))),e.todosList.map((function(t,a){return o.a.createElement(o.a.Fragment,null,o.a.createElement(f,{key:a,id:e.id,index:a,completed:t.completed,name:t.name}))})))}));function y(e){var t=e.todos;return o.a.createElement("ul",null,t.map((function(e){return o.a.createElement(O,Object.assign({key:e.id},e))})))}var T=Object(d.b)((function(e){return{todosArray:e.todos.todosArray,todoTitle:e.todos.todoTitle,modalData:e.modal}}),(function(e){return{localstorageGet:function(t){return e(i(t))},showModal:function(t,a){e(v(t,a))}}}))((function(e){var t=Object(l.a)(e.todosArray);return o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"\u0417\u0430\u043c\u0435\u0442\u043a\u0438 \u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0421\u0431\u0435\u0440\u0431\u0430\u043d\u043a\u0430"),o.a.createElement("button",{className:"button",onClick:function(){return e.showModal("SHOW_CREATE_TODO")}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443"),o.a.createElement("h2",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447:"),o.a.createElement(y,{todos:t.reverse()}))})),_=a(26),k=a(27),I=a(30),j=a(29),g=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).addTodoItem=function(){n.setState({arr:[].concat(Object(l.a)(n.state.arr),[{name:"",completed:!1}])})},n.handleChange=function(e,t){var a=n.state.arr;a[t].name=e.target.value,n.setState({arr:a})},n.handleRemove=function(e){n.state.arr.splice(e,1),n.setState({arr:Object(l.a)(n.state.arr)})},n.checkItem=function(e,t){var a=n.state.arr;a[t].completed=!e,n.setState({arr:a})},n.state={todoTitle:"",arr:[]},n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.props.todoById(e.props.match.params.id),e.setState({todoTitle:e.props.todoId.title,arr:e.props.todoId.todosList})}))}},{key:"handleChangeTitle",value:function(e){this.setState({todoTitle:e.target.value})}},{key:"handleSave",value:function(){this.props.changeById(this.props.todoId.id,this.state.todoTitle,this.state.arr),this.props.history.push("/")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"main-title"},o.a.createElement(b.b,{to:"/"},"\u2190"),o.a.createElement("h1",null,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443"),o.a.createElement("div",null)),o.a.createElement("input",{type:"text",value:this.state.todoTitle,onChange:function(t){return e.handleChangeTitle(t)}}),this.state.arr.map((function(t,a){var n=["todoCheck"];return t.completed&&n.push("completed"),o.a.createElement("div",{className:n.join(" "),key:a},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:t.completed,onChange:function(){return e.checkItem(t.completed,a)}}),o.a.createElement("div",null)),o.a.createElement("input",{type:"text",placeholder:"Task",onChange:function(t){return e.handleChange(t,a)},value:t.name}),o.a.createElement("button",{className:"button--delete",onClick:function(){return e.handleRemove(a)}},"\xd7"))})),o.a.createElement("div",{className:"button-add"},o.a.createElement("button",{className:"btn-circle",onClick:this.addTodoItem},"+")),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{className:"button",onClick:function(){e.props.showModal("CHANGE_TODO",{id:e.props.todoId.id,title:e.state.todoTitle,todosList:e.state.arr})}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),o.a.createElement(b.b,{className:"button",to:"/"},"\u041e\u0442\u043c\u0435\u043d\u0430"),o.a.createElement("div",{onClick:function(){e.props.showModal("DELETE_POST",{id:e.props.todoId.id,deleteType:"page"})}},o.a.createElement(h,{size:"50"}))))}}]),a}(o.a.Component);var C=Object(d.b)((function(e){return{todoId:e.todos.todo}}),(function(e){return{todoById:function(t){return e({type:"TODO_BY_ID",byId:t})},changeById:function(t,a,n){e(E(t,a,n))},showModal:function(t,a){e(v(t,a))}}}))(g),D=a(2);var N=Object(d.b)(null,(function(e){return{removeTodoItem:function(t){return e(m(t))},hideModal:function(){return e({type:"HIDE_MODAL"})}}}))((function(e){var t=Object(D.e)();return o.a.createElement("div",null,o.a.createElement("h2",null,"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u043c\u0435\u0442\u043a\u0443?"),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{className:"button",onClick:function(){e.removeTodoItem(e.modalProps.id),e.hideModal(),"page"===e.modalProps.deleteType&&t.push("/")}},"\u0414\u0430"),o.a.createElement("button",{className:"button",onClick:e.hideModal},"\u041d\u0435\u0442")))})),A=a(22);var w=Object(d.b)((function(e){return{todoTitle:e.todos.todoTitle}}),(function(e){return{addTodoItem:function(t,a){e(u(t,a))},hideModal:function(){return e({type:"HIDE_MODAL"})}}}))((function(e){var t=Object(n.useState)([""]),a=Object(A.a)(t,2),r=a[0],c=a[1],d=Object(n.useState)([{name:"",completed:!1}]),i=Object(A.a)(d,2),u=i[0],s=i[1];return o.a.createElement("div",{className:"create-todo"},o.a.createElement("h1",null,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443"),o.a.createElement("div",null,o.a.createElement("input",{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438",value:r,onChange:function(e){return c(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&(e.addTodoItem(r,u),s([]),e.hideModal())}})),u.map((function(e,t){var a=["todoCheck"];return e.completed&&a.push("completed"),o.a.createElement("div",{className:a.join(" "),key:t},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:e.completed,onChange:function(){return function(e,t){u[t].completed=!e,s(Object(l.a)(u))}(e.completed,t)}}),o.a.createElement("div",null)),o.a.createElement("input",{type:"text",placeholder:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435",onChange:function(e){return function(e,t){u[t].name=e.target.value,s(Object(l.a)(u))}(e,t)},value:e.name}),o.a.createElement("button",{className:"button--delete",onClick:function(e){return function(e){u.splice(e,1),s(Object(l.a)(u))}(e)}},"\xd7"))})),o.a.createElement("div",{className:"button-add"},o.a.createElement("button",{className:"btn-circle",onClick:function(){s([].concat(Object(l.a)(u),[{name:"",completed:!1}]))}},"+")),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{className:"button",onClick:function(){e.addTodoItem(r,u),s([]),e.hideModal()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),o.a.createElement("button",{className:"button",onClick:e.hideModal},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))}));var M=Object(d.b)(null,(function(e){return{changeById:function(t,a,n){e(E(t,a,n))},hideModal:function(){return e({type:"HIDE_MODAL"})}}}))((function(e){var t=Object(D.e)();return o.a.createElement("div",null,o.a.createElement("h2",null,"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u043c\u0435\u0442\u043a\u0443?"),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{className:"button",onClick:function(){e.changeById(e.modalProps.id,e.modalProps.title,e.modalProps.todosList),e.hideModal(),t.push("/")}},"\u0414\u0430"),o.a.createElement("button",{className:"button",onClick:e.hideModal},"\u041d\u0435\u0442")))}));var L=Object(d.b)((function(e){return{modalData:e.modal}}),(function(e){return{hideModal:function(){return e({type:"HIDE_MODAL"})}}}))((function(e){var t=Object(n.useRef)(null),a=Object(n.useCallback)((function(t){var n={27:function(){t.preventDefault(),e.hideModal(),window.removeEventListener("keyup",a,!1)}};n[t.keyCode]&&n[t.keyCode]()}),[e]),r=Object(n.useCallback)((function(a){t&&(t.current.contains(a.target)||(e.hideModal(),document.removeEventListener("click",r,!1)))}),[e]);Object(n.useEffect)((function(){return window.addEventListener("keyup",a,!1),document.addEventListener("click",r,!1),function(){window.removeEventListener("keyup",a,!1),document.removeEventListener("click",r,!1)}}),[a,r]);return o.a.createElement("div",{className:"modalBackground"},o.a.createElement("div",{className:"modal-content",ref:t},o.a.createElement("button",{type:"button",className:"closeButton",onClick:e.hideModal}),"DELETE_POST"===e.modalData.modalType?o.a.createElement(N,{modalProps:e.modalData.modalProps}):"SHOW_CREATE_TODO"===e.modalData.modalType?o.a.createElement(w,null):"CHANGE_TODO"===e.modalData.modalType?o.a.createElement(M,{modalProps:e.modalData.modalProps}):void 0))}));var S=Object(d.b)((function(e){return{todosArray:e.todos.todosArray,modalData:e.modal}}),(function(e){return{localstorageGet:function(t){return e(i(t))}}}))((function(e){return Object(n.useEffect)((function(){if(null!==window.localStorage.getItem("todoItem")){var t=Array.from(JSON.parse(window.localStorage.getItem("todoItem")));e.localstorageGet(t)}}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{path:"/",exact:!0,component:T}),o.a.createElement(D.a,{path:"/todo/:id",exact:!0,component:C}),e.modalData.modalType?o.a.createElement(L,null):null)})),P=a(11),x=a(7),H={todosArray:[],todo:{}};var B={modalType:null,modalProps:{}};var z=Object(P.c)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOCALSTORAGE_GET":return Object(x.a)(Object(x.a)({},e),{},{todosArray:t.localTodos});case"TODO_BY_ID":return Object(x.a)(Object(x.a)({},e),{},{todo:e.todosArray.filter((function(e){return e.id===Number(t.byId)}))[0]});case"ADD_TODO_ITEM":return Object(x.a)(Object(x.a)({},e),{},{todosArray:[].concat(Object(l.a)(e.todosArray),[{id:Date.now(),title:t.todosTitle,todosList:t.todosList}])});case"CHECK_ITEM":return Object(x.a)(Object(x.a)({},e),{},{todosArray:e.todosArray.map((function(e){return e.id===t.id&&e.todosList.map((function(e,a){return a===t.index&&(e.completed=!e.completed),e})),e}))});case"REMOVE_TODO_ITEM":return Object(x.a)(Object(x.a)({},e),{},{todosArray:e.todosArray.filter((function(e){return e.id!==t.id}))});case"CHANGE_BY_ID":return console.log(t.todosList),Object(x.a)(Object(x.a)({},e),{},{todosArray:e.todosArray.map((function(e){return e.id===Number(t.id)&&(e.title=t.title,e.todosList=t.todosList),e}))});case"LOCALSTORAGE_SET":return window.localStorage.setItem("todoItem",JSON.stringify(e.todosArray)),e;default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODAL":return{modalType:t.modalType,modalProps:t.modalProps};case"HIDE_MODAL":return B;default:return e}}}),G=a(28);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):P.d,W=Object(P.e)(z,R(Object(P.a)(G.a))),J=o.a.createElement(d.a,{store:W},o.a.createElement(b.a,{basename:"/"},o.a.createElement(S,null)));c.a.render(J,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.ada932fb.chunk.js.map